:root{
  --bg:#fff8e6;
  --card:#fff3d6;
  --card-alt:#ffeaf3; /* very light pink */
  --muted:#667085;
  --accent:#7c3aed; /* purple */
  --accent-2:#c4b5fd; /* light purple */
  --text:#101828;
  --glass: rgba(16,24,40,0.04);
  --radius:12px;
  --shadow: 0 8px 30px rgba(16,24,40,0.08);
  --glass-border: rgba(16,24,40,0.08);
}

/* Base reset */
*{box-sizing:border-box}
html,body,#root{min-height:100%}
body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;color:var(--text);background:linear-gradient(180deg,#ffffff 0%, #fff5d1 40%, #ffefc2 100%);-webkit-font-smoothing:antialiased;overflow-y:auto}

/* App shell */
.app-shell{display:flex;flex-direction:column;min-height:100vh}
.navbar{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;background:var(--card-alt);backdrop-filter: blur(6px);border-bottom:1px solid var(--glass-border)}
.brand{font-weight:700;letter-spacing:1px;color:var(--accent);margin:0}
.navbar nav{display:flex;gap:12px;align-items:center}
.navbar a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:8px;transition:all .15s}
.navbar a:hover{color:var(--text);background:rgba(16,24,40,0.04)}
.btn.ghost{background:transparent;border:1px solid var(--glass-border);color:var(--muted);padding:6px 10px;border-radius:8px}

/* Logout pill in navbar */
.logout-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid var(--glass-border);background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#052016;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(16,24,40,0.08);transition:transform .12s ease, box-shadow .12s ease}
.logout-pill .icon{color:#052016}
.logout-pill:hover{transform:translateY(-1px);box-shadow:0 12px 28px rgba(16,24,40,0.12)}

.app-body{display:flex;gap:24px;padding:28px;align-items:flex-start;min-height:0}
.sidebar{width:220px;flex:0 0 220px;padding:18px;background:var(--card-alt);border-radius:var(--radius);border:1px solid var(--glass-border);box-shadow:var(--shadow)}
.sidebar-title{margin:0 0 8px 0;color:var(--muted);font-weight:600}
.sidebar-menu{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.sidebar-menu a{display:flex;gap:10px;align-items:center;color:var(--muted);padding:8px;border-radius:8px}
.sidebar-menu a:hover{background:rgba(16,24,40,0.04);color:var(--text)}
.icon{color:var(--accent);min-width:18px}
.icon, .song-right svg, .playerbar-btn svg{transition:transform .12s ease, color .12s ease, filter .12s ease}

.app-main{flex:1;overflow-y:auto;min-height:0;padding-bottom:160px}

/* Cards and content */
.card{background:var(--card);padding:18px;border-radius:12px;border:1px solid var(--glass-border);box-shadow:var(--shadow);margin-bottom:18px}
.home-content{display:flex;flex-direction:column;gap:18px}
.home-top{display:flex;justify-content:space-between;align-items:center;gap:18px}
/* Stats layout helpers */
.stats-grid{display:grid;grid-template-columns:1.2fr 1fr;gap:14px;align-items:start}
.card.stats-compact{padding:14px}
.card.stats-compact h2{margin:0 0 6px 0}
.card.stats-compact .songs-header{margin-bottom:8px}
.home-title h1{margin:0;font-size:22px}
.muted{color:var(--muted);margin-top:6px}
.home-actions{display:flex;gap:10px;align-items:center}
.upload-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#06221a;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;border:none}
.upload-btn:hover{transform:translateY(-1px)}
.action-btn{display:inline-flex;align-items:center;gap:10px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#2b1740;border:0;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease}
.action-btn:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(16,24,40,0.12)}
.action-btn.listening{outline:2px solid rgba(124,58,237,0.35)}
.icon-badge{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:999px;background:linear-gradient(135deg,var(--accent) 0%, var(--accent-2) 100%);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.6);transition:transform .12s ease, box-shadow .12s ease}
.icon-badge svg{width:14px;height:14px;color:transparent;background:linear-gradient(135deg,var(--accent) 0%, var(--accent-2) 100%);-webkit-background-clip:text;background-clip:text}
.icon-badge.dot{background:radial-gradient(circle at 50% 50%, var(--accent-2) 0 52%, var(--accent) 53% 100%);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.7), 0 0 0 3px rgba(124,58,237,0.15)}
.icon-badge.dot svg{display:none}
.icon-badge.ring{background:linear-gradient(135deg,var(--accent) 0%, var(--accent-2) 100%);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.85), 0 0 0 3px rgba(124,58,237,0.2)}
.icon-badge.ring svg{color:#ffffff;background:none}
.mood-btn-secondary:hover .icon-badge{box-shadow:inset 0 0 0 2px rgba(255,255,255,0.9), 0 0 0 3px rgba(124,58,237,0.28)}
.icon-badge.on{animation:pulse 1.6s ease-in-out infinite}
@keyframes pulse{
  0%{transform:scale(1);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.85), 0 0 0 3px rgba(124,58,237,0.20)}
  50%{transform:scale(1.06);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.95), 0 0 0 5px rgba(124,58,237,0.28)}
  100%{transform:scale(1);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.85), 0 0 0 3px rgba(124,58,237,0.20)}
}
.action-btn:hover .icon-badge{box-shadow:inset 0 0 0 2px rgba(255,255,255,0.7), 0 0 0 3px rgba(124,58,237,0.18)}
.voice-btn{background:transparent;border:1px solid var(--glass-border);padding:8px 12px;border-radius:10px;color:var(--muted);cursor:pointer}
.voice-btn.listening{border-color:var(--accent);box-shadow:0 6px 18px rgba(124,58,237,0.14);color:var(--accent)}
.btn.mood-btn{background:transparent;border:1px solid var(--glass-border);padding:8px 12px;border-radius:10px;color:var(--muted)}

.songs-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.global-controls{display:flex;gap:8px;align-items:center}
.search-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--glass-border);background:var(--card-alt);color:var(--muted);transition:box-shadow .12s ease,border-color .12s ease,background .12s ease}
.search-pill .icon{color:var(--muted)}
.search-pill:hover{background:rgba(16,24,40,0.04);border-color:rgba(124,58,237,0.45);box-shadow:0 0 0 3px rgba(124,58,237,0.12)}
.search-pill:focus-within{border-color:rgba(124,58,237,0.45);box-shadow:0 0 0 3px rgba(124,58,237,0.15)}
.search-input{border:none;outline:none;background:transparent;color:var(--text);font:inherit;min-width:160px;width:220px}
.search-input::placeholder{color:#98a2b3}
@media (max-width: 720px){.search-input{width:140px}}
.control-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--glass-border);background:var(--card-alt);color:var(--muted);cursor:pointer;font-weight:600;transition:box-shadow .12s ease,border-color .12s ease,transform .12s ease}
.control-pill .icon{color:var(--accent)}
.control-pill:hover{background:rgba(16,24,40,0.04);color:var(--text);border-color:rgba(124,58,237,0.45);box-shadow:0 0 0 3px rgba(124,58,237,0.12)}
.control-pill:focus{outline:none;border-color:rgba(124,58,237,0.55);box-shadow:0 0 0 3px rgba(124,58,237,0.18)}
.control-pill .icon{transition:transform .12s ease}
.control-pill:hover .icon{transform:scale(1.05)}
.control-pill.active{background:rgba(124,58,237,0.12);border-color:rgba(124,58,237,0.18);color:var(--accent)}
.player-btn{background:transparent;border:1px solid var(--glass-border);padding:8px;border-radius:10px;color:var(--muted);cursor:pointer}
.player-btn.active{background:rgba(124,58,237,0.12);border-color:rgba(124,58,237,0.18);color:var(--accent)}

.song-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:12px}
.song-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(16,24,40,0.02), transparent);border:1px solid rgba(16,24,40,0.08);transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease}
.song-item:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(16,24,40,0.08);border-color:rgba(124,58,237,0.18)}
.song-left{display:flex;gap:12px;align-items:center}
.play-btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#06221a;padding:10px;border-radius:10px;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease}
.play-btn:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(16,24,40,0.12)}
.song-info h4{margin:0;font-size:15px}
.song-info p{margin:4px 0 0 0;color:var(--muted);font-size:13px}

.song-right{display:flex;gap:12px;align-items:center}
.heart-icon{color:var(--muted);cursor:pointer;transition:transform .12s ease, color .12s ease, filter .12s ease}
.heart-icon.favorited{color:var(--accent)}
.heart-icon:hover{color:var(--accent);transform:scale(1.06);filter:drop-shadow(0 2px 6px rgba(124,58,237,0.25))}
.three-dot{position:relative;cursor:pointer;color:var(--muted)}
.three-dot:hover{color:var(--accent);transform:translateY(-1px)}
.dropdown-menu{position:absolute;right:0;top:28px;background:var(--card);border-radius:10px;padding:6px;border:1px solid var(--glass-border);box-shadow:0 12px 32px rgba(16,24,40,0.14);min-width:160px;z-index:2000}
.dropdown-menu button{display:flex;align-items:center;gap:8px;background:transparent;border:none;color:#b42318;padding:8px 10px;text-align:left;width:100%;cursor:pointer;border-radius:8px;white-space:nowrap;font-weight:600}
.dropdown-menu button:hover{background:rgba(16,24,40,0.04);color:#7a271a}

/* Player Bar */
.playerbar{position:fixed;left:24px;right:24px;bottom:20px;background:var(--card);padding:12px 18px;border-radius:14px;border:1px solid var(--glass-border);display:flex;align-items:center;justify-content:space-between;gap:12px;z-index:1000}
.playerbar-image-container{width:56px;height:56px;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
.playerbar-image{width:100%;height:100%;object-fit:cover}
.playerbar-info h4{margin:0;font-size:14px}
.playerbar-info p{margin:2px 0 0 0;color:var(--muted);font-size:12px}
.playerbar-controls{display:flex;gap:10px;align-items:center}
.playerbar-btn{background:var(--accent);color:#06221a;padding:8px;border-radius:8px;border:none;cursor:pointer}
.playerbar-btn:hover{filter:brightness(.98);transform:translateY(-1px)}

/* SongCard tweaks */
.small{color:var(--muted);font-size:13px}
.row{display:flex;gap:8px;align-items:center}
.badge{background:rgba(16,24,40,0.04);padding:4px 8px;border-radius:8px;color:var(--muted);font-size:12px}

/* Favorites page */
.favorites-content{background:var(--card);border:1px solid var(--glass-border);border-radius:12px;padding:16px;box-shadow:var(--shadow)}
.favorites-content h2{margin-top:0;color:var(--text)}

/* Responsive */
@media (max-width:900px){
  .sidebar{display:none}
  .app-body{padding:18px}
  .playerbar{left:12px;right:12px}
}

@media (max-width:480px){
  .playerbar{padding:10px;flex-direction:column;align-items:flex-start}
  .playerbar-controls{width:100%;justify-content:space-between}
}

/* Mood Page */
.mood-page{display:flex;flex-direction:column;gap:16px}
.mood-page h1{margin:0;color:var(--text)}
.mood-page p{color:var(--muted)}

.mood-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;align-items:start}
@media (max-width: 900px){.mood-grid{grid-template-columns:1fr}}

.mood-card{background:var(--card);border:1px solid var(--glass-border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
.mood-card h2{margin:0 0 10px 0;color:var(--text)}

.mood-video{width:100%;max-width:520px;height:320px;object-fit:cover;border-radius:10px;border:1px solid var(--glass-border);background:#f2f4f7}
@media (max-width: 480px){
  .mood-video{height:220px}
}

.btn-row{display:flex;gap:10px;flex-wrap:nowrap;margin-top:10px}
@media (max-width: 540px){
  .btn-row{flex-wrap:wrap}
}
.mood-btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#052016;border:none;border-radius:10px;padding:10px 14px;font-weight:600;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease}
.mood-btn-primary:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(16,24,40,0.12)}
.mood-btn-secondary{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:0;color:#2b1740;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:700;transition:transform .12s ease, box-shadow .12s ease}
.mood-btn-secondary:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(16,24,40,0.12)}

.mood-textarea{width:100%;min-height:140px;border:1px solid var(--glass-border);border-radius:10px;padding:12px;font-family:inherit;color:var(--text);background:var(--card);resize:vertical}
.mood-textarea::placeholder{color:#98a2b3}

/* Reserve space for status to avoid layout shift */
.mood-status{min-height:42px;display:flex;align-items:center;margin-top:8px;color:var(--muted)}
.mood-status .ok{color:var(--text);font-weight:600}

.result-card{background:var(--card);border:1px solid var(--glass-border);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow)}
.result-card h3{margin:0;color:var(--text)}

.recommendations{margin-top:16px}
.recommendations h2{margin:0 0 10px 0;color:var(--text)}
.recommendations ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
.recommendations li{background:var(--card);border:1px solid var(--glass-border);border-radius:12px;padding:12px;box-shadow:var(--shadow)}
.recommendations audio{width:100%}
.song-meta{display:flex;gap:8px;margin-top:6px;color:var(--muted);font-size:13px}
/* --- FIXED SCROLLING BEHAVIOR FOR HOME PAGE --- */

/* Root container */
.home-root {
  display: flex;
  flex-direction: column;
  min-height: 100vh;      /* full viewport height */
  overflow-x: hidden;
  overflow-y: auto;       /* enables scroll */
  padding-bottom: 120px;  /* space for playerbar */
}

/* Inner content */
.home-content {
  display: flex;
  flex-direction: column;
  gap: 18px;
  flex: 1;                /* expand and scroll */
  overflow-y: visible;
  padding-bottom: 40px;
}

/* Player Bar */
.playerbar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #fff;
  padding: 12px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

/* Song Info */
.playerbar-info h4 {
  font-size: 14px;
  font-weight: 600;
  margin: 0;
}

.playerbar-info p {
  font-size: 12px;
  color: #666;
  margin: 2px 0 8px 0;
}

/* Progress Bar Container */
.progress-container {
  width: 90%;
  height: 5px;
  background: #ccc;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
  margin-bottom: 8px;
}

/* Moving Black Progress */

.progress-bar {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  opacity: 0; /* invisible but draggable */
  cursor: pointer;
}


/* Controls */
.playerbar-controls {
  display: flex;
  gap: 24px;
}

.playerbar-btn {
  background: none;
  border: none;
  font-size: 22px;
  color: #111;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.playerbar-btn:hover {
  transform: scale(1.2);
}

/* Optional: Hide native input appearance for range */
.progress-bar {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  opacity: 0; /* keep input functional but invisible */
  cursor: pointer;
}
.progress-container {
  width: 90%;
  height: 5px;
  background: #ccc;
  border-radius: 10px;
  position: relative;
  margin-bottom: 8px;
}

.progress-fill {
  position: absolute;
  height: 100%;
  background: #111;
  width: 0%;
  border-radius: 10px;
  transition: width 0.1s linear;
}

.progress-knob {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 12px;
  height: 12px;
  background: #111;
  border-radius: 50%;
  pointer-events: none;
}

.progress-bar {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  opacity: 0;
  cursor: pointer;
}
/* Make home-content scrollable and leave room for fixed player bar */
.home-content {
  overflow-y: auto;             /* enable vertical scroll */
  max-height: 100vh;            /* full viewport height */
  padding-bottom: 140px;        /* height of player bar + extra spacing */
  box-sizing: border-box;       /* ensure padding is counted in height */
}

/* Optional: if your song list card needs to scroll inside */
.card {
  max-height: 100%;             /* allow card to fill remaining height */
  overflow-y: auto;
}
/* Make the mood page scrollable */
.mood-page {
  position: relative;
  min-height: 100vh;   /* ensure full viewport height */
  padding-bottom: 120px; /* leave space for fixed playerbar if present */
  overflow-y: auto;    /* allow vertical scrolling */
}

/* Recommendations and lists spacing */
.recommendations ul {
  max-height: 400px;  /* optional: limit height */
  overflow-y: auto;   /* scroll if content exceeds */
  padding-left: 0;
  margin-top: 8px;
  list-style: none;
}

.recommendations li {
  margin-bottom: 12px;
}

/* Optional: make video and text cards scroll nicely */
.mood-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.mood-card {
  flex: 1 1 400px;
  min-width: 300px;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
/* Add this in your global CSS or MoodDetect.css */
html, body, #root {
  height: auto;       /* let it grow with content */
  min-height: 100%;   /* at least full viewport */
  overflow-y: auto;   /* enable scrolling */
  margin: 0;
  padding: 0;
}
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #4caf50;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
